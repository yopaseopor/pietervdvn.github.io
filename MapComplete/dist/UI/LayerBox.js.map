{"version":3,"sources":["UI/UIElement.ts","UI/LayerBox.ts"],"names":[],"mappings":";;;;;;;AAEA,IAAA,SAAA;AAAA;AAAA,YAAA;AAMI,WAAA,SAAA,CAAsB,MAAtB,EAAgD;AAC5C,SAAK,EAAL,GAAU,gBAAgB,SAAS,CAAC,MAApC;AACA,IAAA,SAAS,CAAC,MAAV;AACA,SAAK,QAAL,CAAc,MAAd;AACH;;AAGS,EAAA,SAAA,CAAA,SAAA,CAAA,QAAA,GAAV,UAAmB,MAAnB,EAA6C;AACzC,QAAG,MAAM,KAAK,SAAd,EAAwB;AACpB;AACH;;AACD,QAAM,IAAI,GAAG,IAAb;AACA,IAAA,MAAM,CAAC,WAAP,CAAmB,YAAA;AACf,MAAA,IAAI,CAAC,MAAL;AACH,KAFD;AAGH,GARS;;AAUV,EAAA,SAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACI,QAAI,OAAO,GAAI,QAAQ,CAAC,cAAT,CAAwB,KAAK,EAA7B,CAAf;;AACA,QAAI,OAAO,KAAK,IAAZ,IAAoB,OAAO,KAAK,SAApC,EAA+C;AAC3C;AACA;AC5BZ,AD6BS,IC7BT,WAAA,GAAA,OAAA,CAAA,aAAA,CAAA;AAEA;AD6BQ,IAAA,OAAO,CAAC,SAAR,GAAoB,KAAK,WAAL,EAApB;AACA,SAAK,WAAL,CAAiB,OAAjB;AACH,GATD;;AAcA,EAAA,SAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AChCJ,ADiCQ,ICjCR,ODiCe,CCjCf,+BDiC+C,KAAK,EAArC,GAA0C,IAA1C,GAAiD,KAAK,WAAL,EAAjD,GAAsE,QAA7E;ACjCR,ADkCK,GAFD;AChCJ,UAAA,MAAA,EAAA;AAA+B,ADoC3B,ECpC2B,ADoC3B,SCpC2B,ADoC3B,CCpC2B,ADoC3B,QCpC2B,CDoC3B,CCpC2B,ADoC3B,MCpC2B,CAAA,CDoC3B,GAAA,UAAS,KAAT,EAAsB;AAClB,QAAI,OAAO,GAAG,QAAQ,CAAC,cAAT,CAAwB,KAAxB,CAAd;ACjCJ,ADkCI,IAAA,OClCJ,ADkCW,CAAC,OClCZ,CAAY,CDkCR,GClCJ,ADkCwB,EClCE,GDkCG,EClC7B,EAA8C,EDkCtB,EAApB;AClCJ,ADmCC,GAHD,KChCA,KAAA,GACI,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAK,CAAC,UAAZ,KAAuB,IAD3B;;AAEI,ADqCG,EAAA,ECrCH,KAAI,CAAC,CDqCF,CAAA,GCrCH,GAAa,GDqCV,CAAA,CCrCH,MDqCG,GAAP,YAAA;ACpCI,ADqCA,ICrCA,KAAI,CAAC,CDqCE,GCrCP,EDqCY,CCrCA,IAAZ,MDqCO,OAAuB,EAA9B;AACH,GAFM;ACnCN;ADXc,EAAA,SAAA,CAAA,MAAA,GAAiB,CAAjB;ACaL,ADqCd,ECrCc,ODqCd,CCrCc,CAAA,ODqCd,ECrCc,CAAA,WAAA,GAAV,YAAA;AACI,ADhBR,CAAA,EAAA,KCgBW,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAzB,EAA8B;AAC1B,aAAO,2BAAyB,KAAK,IAA9B,GAAmC,sBAA1C;AACH,ADlBa,OAAA,CAAA,SAAA,GAAA,SAAA;;ACmBd,WAAO,2BAAyB,KAAK,IAA9B,GAAmC,QAA1C;AACH,GALS;;AAOV,EAAA,QAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAY,WAAZ,EAAoC,CACnC,CADD;;AAGJ,SAAA,QAAA;AApBA,CAAA,CAA+B,WAAA,CAAA,SAA/B,CAAA;;AAAa,OAAA,CAAA,QAAA,GAAA,QAAA","file":"LayerBox.js","sourceRoot":"..","sourcesContent":["import {UIEventSource} from \"./UIEventSource\";\n\nexport abstract class UIElement {\n\n    private static nextId: number = 0;\n\n    public readonly id: string;\n\n    protected constructor(source: UIEventSource<any>) {\n        this.id = \"ui-element-\" + UIElement.nextId;\n        UIElement.nextId++;\n        this.ListenTo(source);\n    }\n\n\n    protected ListenTo(source: UIEventSource<any>) {\n        if(source === undefined){\n            return;\n        }\n        const self = this;\n        source.addCallback(() => {\n            self.Update();\n        })\n    }\n\n    Update(): void {\n        let element  = document.getElementById(this.id);\n        if (element === null || element === undefined) {\n            // The element is not painted\n            return;\n        }\n        \n        element.innerHTML = this.InnerRender();\n        this.InnerUpdate(element);\n    }\n    \n    // Called after the HTML has been replaced. Can be used for css tricks\n    abstract InnerUpdate(htmlElement : HTMLElement);\n\n    Render(): string {\n        return \"<div class='uielement' id='\" + this.id + \"'>\" + this.InnerRender() + \"</div>\"\n    }\n\n    AttachTo(divId: string) {\n        let element = document.getElementById(divId);\n        element.innerHTML = this.Render();\n    }\n\n    protected abstract InnerRender(): string;\n\n    public IsEmpty(): boolean {\n        return this.InnerRender() === \"\";\n    }\n\n}","\nimport {UIElement} from \"./UIElement\";\nimport {OverpassLayer} from \"../Logic/OverpassLayer\";\n/**\n * Gives the status of a single layer:\n * is it loading?\n */\nexport class LayerBox extends  UIElement{\n    private name: string;\n    private layer: OverpassLayer;\n    \n    constructor(name: string, layer: OverpassLayer){\n        super(layer.queryState);\n        this.layer = layer;\n        this.name = name;\n    }\n    \n    protected InnerRender(): string {\n        if(this.layer.queryState.data){\n            return \"<div class='layerbox'>\"+this.name+\" wordt geladen</div>\";\n        }\n        return \"<div class='layerbox'>\"+this.name+\"</div>\";\n    }\n\n    InnerUpdate(htmlElement: HTMLElement) {\n    }\n    \n}"]}